#! /bin/bash

function parse_git_dirty {
	git diff --no-ext-diff --quiet --exit-code &> /dev/null || echo "*"
}

function parse_git_branch {
	git branch --no-color 2> /dev/null | sed -e '/^[^*]/d' -e "s/* \(.*\)/(\1$(parse_git_dirty))/"
}

export PS1="\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;36m\]\w\[\033[00m\]\$(parse_git_branch)\$ "
export CLICOLOR=1

alias ls='ls --color=auto'
alias grep='grep --color=auto'
alias fgrep='fgrep --color=auto'
alias egrep='egrep --color=auto'

chmod -R 0700 $HOME/dotfiles/.tools/

if [ -f $HOME/start-agent-trigger ]; then 
	eval `ssh-agent -s` 
	ssh-add $HOME/.ssh/id_rsa_g
	ssh-add $HOME/.ssh/web-dev
	ssh-add $HOME/.ssh/ko-dev
fi

export WINEARCH=win32
#export WINEARCH=win64
export WINEPREFIX=$HOME/.wine
export JAVAHOME=/opt/jdk/bin
export JAVA_HOME=/opt/jdk/bin
export SMARTGITHG_JAVA_HOME=/opt/jdk/bin
export TEXMFHOME=$HOME/texmf
